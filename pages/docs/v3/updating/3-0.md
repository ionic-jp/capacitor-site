---
title: ã‚¢ãƒ—ãƒªã‚’Capacitor3.0ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
description: ã‚¢ãƒ—ãƒªã‚’Capacitor v2 ã‹ã‚‰ v3 ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹æ–¹æ³•
---

# ã‚¢ãƒ—ãƒªã‚’ Capacitor3.0 ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ

Capacitor 3 ã¯ã€ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã«é‡è¦ãªã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¨ã‚¨ã‚­ã‚µã‚¤ãƒ†ã‚£ãƒ³ã‚°ãªæ–°æ©Ÿèƒ½ã‚’ã‚‚ãŸã‚‰ã—ã¾ã™ã€‚

[Capacitor 3.0 RC ã®ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã‚’èª­ã‚€ &#8250;](/blog/announcing-capacitor-3-0-rc)

> ã‚¢ãƒ—ãƒªã‚’ Capacitor3 ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ãŸå¾Œã€ä½•ã‹ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒã‚ã‚Œã° [ã“ã®ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³](https://github.com/ionic-team/capacitor/discussions/3994) ã§å…±æœ‰ã—ã¦ã„ãŸã ã‘ã¾ã›ã‚“ã‹ï¼Ÿã”æ„è¦‹ã‚’ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ ğŸ’–

ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ Capacitor ã®æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ãŸã„ã¨è€ƒãˆã¦ã„ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ä½œè€…ã®æ–¹ã¯ã€ [Upgrade Guide for Capacitor Plugins](/docs/updating/plugins/3-0) ã‚’ã”è¦§ãã ã•ã„ã€‚

> ğŸš§ ã“ã®ã‚¬ã‚¤ãƒ‰ã¯ç¾åœ¨é€²è¡Œä¸­ã§ã™ã€‚ãŠå¾…ãŸã›ã—ã¾ã—ãŸã€‚

## NodeJS 12+

Node 8 ã¯ç”Ÿç”£çµ‚äº†ã¨ãªã‚Šã¾ã—ãŸã€‚Node 10 ã¯ 2021 å¹´ 4 æœˆ 30 æ—¥ã«å¯¿å‘½ã‚’è¿ãˆã¾ã™ã€‚Capacitor 3 ã¯ NodeJS 12 ä»¥ä¸ŠãŒå¿…è¦ã§ã™ã€‚(æœ€æ–°ã® LTS ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ¨å¥¨ã—ã¾ã™ã€‚)

## Capacitor CLI ã¨ Core ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ

```bash
npm install @capacitor/cli@latest @capacitor/core@latest
```

## ES2017+

Capacitor 3 ã¯ ES5 ã§ã¯ãªãã€ES2017 ã®ç’°å¢ƒã§ãƒ“ãƒ«ãƒ‰ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã¾ãŸã€ [ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚‚ ES2017 ã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«æ›´æ–°ã•ã‚Œã¾ã—ãŸ](https://github.com/ionic-team/capacitor/pull/3427/files#diff-b22b3d0cbb7d8f6fdfe1f6f1d9e84b7d) ã®ã§ã€ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚‚ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’æ›´æ–°ã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¾ã™ã€‚

ã“ã®å¤‰æ›´ã¯ã€Capacitor ãŒå…¬å¼ã«ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„ IE11 ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹å ´åˆã‚’é™¤ãã€ã‚¢ãƒ—ãƒªã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

## TypeScript 3.8+

Capacitor 3 ã¯æ–°ã—ã„ TypeScript ã®æ§‹æ–‡ã‚’ä½¿ç”¨ã—ã¦ãŠã‚Šã€TS 3.8 ä»¥é™ã§ã—ã‹ä½¿ç”¨ã§ãã¾ã›ã‚“ã€‚

## Capacitor Config ã®å¤‰æ›´

TypeScript 3.8+ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å ´åˆã€ `capacitor.config.json` ã‚’ç§»è¡Œã—ã¦ã€ `capacitor.config.ts` ã¨ã„ã†åå‰ã® Type åŒ–ã•ã‚ŒãŸ TypeScript è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ `.json` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã„ç¶šã‘ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€TypeScript ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ–¹ãŒã€ãƒãƒ¼ãƒ ã«ã¨ã£ã¦ã‚ˆã‚Šè‰¯ã„é–‹ç™ºç’°å¢ƒã‚’æä¾›ã§ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ä»¥ä¸‹ã¯ã€ [Capacitor Test App](https://github.com/ionic-team/capacitor-testapp) ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ `capacitor.config.ts` ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾‹ã§ã™ã€‚c

```typescript
/// <reference types="@capacitor/local-notifications" />
/// <reference types="@capacitor/push-notifications" />
/// <reference types="@capacitor/splash-screen" />

import { CapacitorConfig } from '@capacitor/cli';

const config: CapacitorConfig = {
  appId: 'com.capacitorjs.app.testapp',
  appName: 'capacitor-testapp',
  webDir: 'build',
  plugins: {
    SplashScreen: {
      launchAutoHide: false,
    },
    LocalNotifications: {
      smallIcon: 'ic_stat_icon_config_sample',
      iconColor: '#CE0B7C',
    },
    PushNotifications: {
      presentationOptions: ['alert', 'sound'],
    },
  },
};

export = config;
```

## å…¬å¼ãƒ—ãƒ©ã‚°ã‚¤ãƒ³

ã™ã¹ã¦ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€Capacitor ã‚³ã‚¢ã‹ã‚‰å‰Šé™¤ã•ã‚Œã€ç‹¬è‡ªã® npm ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãªã‚Šã¾ã—ãŸã€‚ã“ã‚Œã«ã¯ã„ãã¤ã‹ã®ç†ç”±ãŒã‚ã‚Šã¾ã™ãŒï¼ˆ [#3227](https://github.com/ionic-team/capacitor/issues/3227) å‚ç…§ï¼‰ã€ã‚³ã‚¢ãƒãƒ¼ãƒ ã¯ã“ã‚ŒãŒæ­£ã—ã„æ–¹æ³•ã§ã‚ã‚‹ã¨ç¢ºä¿¡ã—ã¦ã„ã¾ã™ã€‚ã‚³ã‚¢ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¡Œã„ã¾ã™ã€‚

```typescript
import { Camera } from '@capacitor/camera';
```

### Background Taskã€Permissionsã€ Photos ã®å„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯å‰Šé™¤ã•ã‚Œã¾ã—ãŸ

- **Background Task**: ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€ã»ã¨ã‚“ã©ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„ã‚ˆã†ã§ã€ã»ã¨ã‚“ã©ã®é–‹ç™ºè€…ãŒæœŸå¾…ã—ã¦ã„ãŸã‚ˆã†ã«ã¯å‹•ä½œã—ã¾ã›ã‚“ã§ã—ãŸã€‚ã‚³ã‚¢ãƒãƒ¼ãƒ ã¯å°†æ¥çš„ã«ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰æ©Ÿèƒ½ã‚’å†æ¤œè¨ã™ã‚‹äºˆå®šã§ã™ã€‚ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®ãŸã‚ã« [#3032](https://github.com/ionic-team/capacitor/issues/3032) ã«ç™»éŒ²ã—ã¦ãã ã•ã„
- **Permissions**: ã‚³ã‚¢ãƒãƒ¼ãƒ ã¯ã“ã®é›†ä¸­å‹ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«ä»£ã‚ã‚‹ã‚‚ã®ã‚’å®Ÿè£…ã—ã¾ã—ãŸã€‚ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚‚ã“ã‚Œã‚’æ¡ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼ˆ[new Permissions API](/docs/plugins/web#permissions)ã‚’å‚ç…§ï¼‰
- **Photos**ã€‚ã“ã®æ–‡æ›¸åŒ–ã•ã‚Œã¦ã„ãªã„ iOS å°‚ç”¨ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯å‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚ [`@capacitor-community/media`](https://github.com/capacitor-community/media) ã‚’ã”åˆ©ç”¨ãã ã•ã„

### Accessibilityã€Appã€Modals plugins ã¯åˆ†å‰²ã•ã‚Œã¾ã—ãŸ

- **Accessibility**
  - VoiceOver ã¨ TalkBack ã®æ©Ÿèƒ½ã¯ã€ [**ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼**](/docs/apis/screen-reader) ã«ç§»å‹•ã—ã¾ã—ãŸã€‚
- **App**
  - App é–¢é€£ã®æƒ…å ±ã‚„æ©Ÿèƒ½ã¯ [**App**](/docs/apis/app) ã«æ®‹ã‚Šã¾ã™ã€‚
  - App ã® URL å‡¦ç†(`openUrl()`ã¨`canOpenUrl()`)ã¯ [**App Launcher**](/docs/apis/app-launcher) ã«ç§»å‹•ã—ã¾ã—ãŸã€‚
- **Modal**
  - Actions Sheet æ©Ÿèƒ½(`showActions()`)ã¯[**ActionsSheet æ©Ÿèƒ½**](/docs/apis/action-sheet)ã«ç§»å‹•ã—ã¾ã—ãŸã€‚
  - Dialog Window ã®æ©Ÿèƒ½(`alert()`, `prompt()`, `confirm()`)ã¯[**Dialog**](/docs/apis/dialog)ã«ç§»å‹•ã—ã¾ã—ãŸã€‚

### æ–°ã—ã„å…¬å¼ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã«ã‚¢ãƒ—ãƒªã‚’ç§»è¡Œã™ã‚‹

ã“ã®å¤‰æ›´ã«ä¼´ã„ã€ã“ã‚Œã¾ã§ä½¿ç”¨ã—ã¦ã„ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å€‹åˆ¥ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ `@capacitor/core` ã® `Plugins` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰æŠ½å‡ºã—ãŸã‚³ã‚¢ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’æ¤œç´¢ã—ã¾ã™
1. å¯¾å¿œã™ã‚‹ [ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](/docs/apis) ã‚’æ¢ã—ã¾ã™ã€‚ãŸã ã—ã€ [ã„ãã¤ã‹ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒåˆ†å‰²ã•ã‚Œã¦ã„ã‚‹](#accessibility-app-and-modals-plugins-split-up) ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„
1. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹å„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã«å¾“ã†
1. ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«å¤‰æ›´ã™ã‚‹ï¼ˆ[ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ](#plugin-imports)å‚ç…§ï¼‰
1. [å¾Œæ–¹äº’æ›æ€§ã®ãªã„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å¤‰æ›´](#backward-incompatible-plugin-changes) ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹æŒ‡ç¤ºã«å¾“ã†

**Ionic Framework ã‚’ä½¿ã£ã¦ã„ã¾ã™ã‹ï¼Ÿ**

Ionic Framework ã§ã¯ã€ä»¥ä¸‹ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ API ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™:

- [**App**](/docs/apis/app)
- [**Haptics**](/docs/apis/haptics)
- [**Keyboard**](/docs/apis/keyboard)
- [**StatusBar**](/docs/apis/status-bar)

Ionic Framework ã§æœ€é«˜ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã‚’å¾—ã‚‹ãŸã‚ã«ã¯ã€ã‚¢ãƒ—ãƒªã«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ã„ãªãã¦ã‚‚ã€ã“ã‚Œã‚‰ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™:

```bash
npm install @capacitor/app @capacitor/haptics @capacitor/keyboard @capacitor/status-bar
```

## Plugin ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

`Plugins`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯éæ¨å¥¨ã§ã™ãŒã€Capacitor 3 ã§ã¯å¼•ãç¶šãä½¿ç”¨ã§ãã¾ã™ã€‚Capacitor ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€æ–°ã—ã„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç™»éŒ² APIï¼ˆ[Upgrade Guide for plugins](/docs/updating/plugins/3-0)ã‚’å‚ç…§ï¼‰ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«æ›´æ–°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ã“ã‚Œã«ã‚ˆã‚Šãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‹ã‚‰ç›´æ¥ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ä»Šå¾Œã¯ã€`@capacitor/core` ã® `Plugins` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„ã€‚

```typescript
// OLD
import { Plugins } from '@capacitor/core';
const { AnyPlugin } = Plugins;
```

ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‹ã‚‰ç›´æ¥ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã®ãŒæœ›ã¾ã—ã„ã®ã§ã™ãŒã€ã“ã‚Œã‚’å¯èƒ½ã«ã™ã‚‹ãŸã‚ã«ã¯ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ Capacitor 3 ã§å‹•ä½œã™ã‚‹ã‚ˆã†ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```typescript
// NEW
import { AnyPlugin } from 'any-plugin';
```

## å¾Œæ–¹äº’æ›æ€§ã®ãªã„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å¤‰æ›´

ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã® API ã®å¤šãã¯ Capacitor 3 ã¸ã®ç§»è¡Œã‚’å®¹æ˜“ã«ã™ã‚‹ãŸã‚ã«å¤‰æ›´ã•ã‚Œã¾ã›ã‚“ãŒã€ä¸€éƒ¨ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã‚³ãƒ¼ãƒ‰ã®æ›´æ–°ã‚„æ‰‹å‹•ã§ã®ç§»è¡ŒãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚

- **Accessibility** / **Screen Reader**
  - `isScreenReaderEnabled()`ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€`isEnabled()`ã«åç§°å¤‰æ›´ã•ã‚Œã¾ã—ãŸã€‚
  - `accessibilityScreenReaderStateChange'`ã‚¤ãƒ™ãƒ³ãƒˆã¯ã€`'stateChange'`ã«åç§°å¤‰æ›´ã•ã‚Œã¾ã—ãŸã€‚
  - Android ãŠã‚ˆã³ iOS ã§ã¯ã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼ãŒç¾åœ¨ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªå ´åˆã«ã®ã¿ã€`speak()`ãŒå‹•ä½œã—ã¾ã™ã€‚ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼ãŒã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‹ã©ã†ã‹ã«é–¢ã‚ã‚‰ãšéŸ³å£°åˆæˆã‚’è¡Œã†ã«ã¯ã€[`@capacitor-community/text-to-speech`](https://github.com/capacitor-community/text-to-speech)ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
- **Browser**
  - prefetch()`ãŒå‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚
- **Device**
  - ã‚¢ãƒ—ãƒªã®æƒ…å ±ãŒ `getInfo()` ã‹ã‚‰å‰Šé™¤ã•ã‚Œã¾ã—ãŸï¼ˆ`appVersion`, `appBuild`, `appId`, `appName`ï¼‰ã€‚ã“ã®æƒ…å ±ã«ã¤ã„ã¦ã¯ã€App ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®[`getInfo()`](/docs/apis/app#getinfo)ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
  - `uuid` ã¯ `getInfo()` ã‹ã‚‰å‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚æ–°ã—ã„ `getId()` é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
- **Haptics**
  - `HapticsNotificationType` åˆ—æŒ™å‹ã®ã‚­ãƒ¼ãŒã€ä»–ã®åˆ—æŒ™å‹ã¨ä¸€è‡´ã™ã‚‹ã‚ˆã†ã«ã€å¤§æ–‡å­—ã‹ã‚‰ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ã«å¤‰æ›´ã•ã‚Œã¾ã—ãŸã€‚
- **Local Notifications**
  - ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯æ–°ã—ã„ Permissions API ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ `requestPermission()` ãŒå‰Šé™¤ã•ã‚ŒãŸã®ã§ã€ `requestPermissions()` ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
- **Push Notifications**
  - ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯æ–°ã—ã„ Permissions API ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚`requestPermission()`ã¯å‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚`requestPermissions()`ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
- **Share**
  - `share()` ãƒ¡ã‚½ãƒƒãƒ‰ã¯ `any` ã§ã¯ãªã `ShareResult` ã‚’è¿”ã™ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
  - `share()` ã®æˆ»ã‚Šå€¤ã«ã¯ã€`completed`ãŒå«ã¾ã‚Œãªããªã‚Šã¾ã—ãŸã€‚å®Œäº†ã—ãªã‹ã£ãŸå ´åˆã¯ã€ä»£ã‚ã‚Šã«æ‹’å¦ã•ã‚Œã¾ã™ã€‚
- **Storage**
  - **ãƒ‡ãƒ¼ã‚¿ç§»è¡ŒãŒå¿…è¦ã§ã™ï¼** å†…éƒ¨ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ãŒå¤‰æ›´ã•ã‚Œã€ãƒ‡ãƒ¼ã‚¿ç§»è¡ŒãŒå¿…è¦ã«ãªã‚Šã¾ã—ãŸã€‚ä¾¿åˆ©ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸ: `migrate()`. ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å½±éŸ¿ã‚’ä¸ãˆãšã«ã‚¢ãƒ—ãƒªã‚’æ›´æ–°ã™ã‚‹ã«ã¯ã€ä»–ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®å‰ã« `migrate()` ã‚’å‘¼ã³å‡ºã—ã¦ãã ã•ã„ã€‚
- **Filesystem**
  - `statute()`ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ã™ã¹ã¦ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ ctime ãŠã‚ˆã³ mtime ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’ãƒŸãƒªç§’å˜ä½ã§è¿”ã™ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ä»¥å‰ã¯ã€iOS ã¯ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’ç§’å˜ä½ã§è¿”ã—ã¦ã„ã¾ã—ãŸã€‚

## Logging ã®å¤‰æ›´

Capacitor 3 ã§ã¯ã€`hideLogs`è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒéæ¨å¥¨ã¨ãªã‚Šã¾ã—ãŸã€‚ã“ã‚Œã«ä»£ã‚ã£ã¦ã€æ–°ã—ã„è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ `loggingBehavior` ãŒå°å…¥ã•ã‚Œã¾ã—ãŸã€‚è©³ç´°ã¯[config ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™](/docs/config)

## iOS

Capacitor 3 ã¯ iOS 12+ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚Xcode 12+ãŒå¿…è¦ã§ã™ã€‚CocoaPods 1.8+ã‚’æ¨å¥¨ã—ã¾ã™ã€‚

### CocoaPods ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ

CocoaPods ã‚’æœ€æ–°ã®å®‰å®šç‰ˆã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚ [CocoaPods 1.8](https://blog.cocoapods.org/CocoaPods-1.8.0-beta/) ã§ã¯ CDN ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸãŸã‚ã€`pod repo update`ã‚’å®šæœŸçš„ã«å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒãªããªã‚Šã¾ã—ãŸã€‚

CocoaPods ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ `pod --version` ã§ç¢ºèªã—ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã¯ [cocoapods.org](https://cocoapods.org) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### iOS ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’ 12.0 ã«è¨­å®šã—ã¾ã™ã€‚

Xcode ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã‚¢ãƒ—ãƒªã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«å¯¾ã—ã¦ã€ä»¥ä¸‹ã®ä½œæ¥­ã‚’è¡Œã„ã¾ã™ï¼š **Build Settings** ã‚¿ãƒ–ã‚’é–‹ãã¾ã™ã€‚Deployment**ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã€**iOS Deployment Target**ã‚’**iOS 12.0\*\*ã«å¤‰æ›´ã—ã¾ã™ã€‚

æ¬¡ã«ã€`ios/App/Podfile`ã‚’é–‹ãã€iOS ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ 12.0 ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¾ã™:

```diff-ruby
-platform :ios, '11.0'
+platform :ios, '12.0'
 use_frameworks!
```

### Swift ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ 5 ã«ã™ã‚‹

ã¾ã  Swift 5 ã‚’ä½¿ç”¨ã—ã¦ã„ãªã„å ´åˆã¯ã€Xcode ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®**Build Settings**ã‚¿ãƒ–ã‚’é–‹ãã€**Swift Compiler - Language**ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®**Swift Language Version**ã‚’**Swift 5**ã«å¤‰æ›´ã—ã¾ã™ã€‚

### iOS ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `public` ã‚’ç§»å‹•ã™ã‚‹

Capacitor 3 ã§ã¯ã€`ios/App/public`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’`ios/App/App/public`ã«ç§»å‹•ã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ Xcode ã§å®Ÿç¾ã§ãã¾ã™:

**æ—¢å­˜ã®`public`ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã™ã‚‹**ã€‚

1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆAppï¼‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼ã‚’å±•é–‹ã—ã€App ã‚°ãƒ«ãƒ¼ãƒ—ã‚’é¸æŠã—ã¦ã€public ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠã—ã¾ã™ã€‚
1. å³ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€**Delete**ã‚’é¸æŠã—ã¾ã™ã€‚ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã™ã‚‹ã‹ã€å‚ç…§ã ã‘ã‚’å‰Šé™¤ã™ã‚‹ã‹ã‚’å°‹ã­ã‚‰ã‚ŒãŸã‚‰ã€**Move to Trash**ã‚’é¸æŠã—ã¾ã™ã€‚

![delete public folder](/assets/img/docs/ios/xcode-public-delete-folder.png)

**æ–°ã—ã„å ´æ‰€ã§`public`ã‚’å†ä½œæˆã™ã‚‹**

1. App "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã® "App "ã‚°ãƒ«ãƒ¼ãƒ—ã‚’å³ã‚¯ãƒªãƒƒã‚¯ã—ã€"Add Files to "App"... "ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚
1. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã¾ã¾ã«ã—ã¦ãŠãã¾ã™ï¼ˆã‚°ãƒ«ãƒ¼ãƒ—ã§ã¯ãªããƒ•ã‚©ãƒ«ãƒ€å‚ç…§ã‚’ä½œæˆã™ã‚‹ã“ã¨ã¨ã€`App`ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«è¿½åŠ ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ï¼‰ã€‚
1. æ–°ã—ã„ãƒ•ã‚©ãƒ«ãƒ€\*\*ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€åå‰ã‚’ "public "ã«ã—ã¾ã™ã€‚
1. ä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ã€Œè¿½åŠ ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![recreate public folder](/assets/img/docs/ios/xcode-public-new-folder.png)

Xcode ã§ã¯åŒã˜ã‚ˆã†ã«è¦‹ãˆã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€æ–°ã—ã„`public`ãƒ•ã‚©ãƒ«ãƒ€ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆã§ã¯ãªãã€`App`ã‚°ãƒ«ãƒ¼ãƒ—ã«ç›¸å¯¾ã™ã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚

**æ–°ã—ã„`public`ãƒ•ã‚©ãƒ«ãƒ€ã‚’ gitignore ã—ã¾ã™**

`ios/.gitignore`ã§ã€ç„¡è¦–ã™ã‚‹ãƒ‘ã‚¹ã‚’`App/public`ã‹ã‚‰`App/App/public`ã«å¤‰æ›´ã—ã¾ã™ã€‚ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã«ã¯ Web ã‚¢ã‚»ãƒƒãƒˆã®ã‚³ãƒ”ãƒ¼ãŒå…¥ã£ã¦ã„ã‚‹ã®ã§ã€ã‚³ãƒŸãƒƒãƒˆã—ã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚

```diff
 App/build
 App/Pods
-App/public
+App/App/public
 App/Podfile.lock
 xcuserdata
```

### Capacitor iOS ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ

```bash
npm install @capacitor/ios@latest
npx cap sync ios
```

### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã§ã€`CAPBridge`ã‹ã‚‰`ApplicationDelegateProxy`ã«åˆ‡ã‚Šæ›¿ãˆã‚‹

`ios/App/AppDelegate.swift`ã§ã€ä»¥ä¸‹ã‚’æ›´æ–°ã—ã¾ã™ã€‚

```diff-swift
     func application(_ app: UIApplication, open url: URL, options: [UIApplication.OpenURLOptionsKey: Any] = [:]) -> Bool {
         // Called when the app was launched with a url. Feel free to add additional processing here,
         // but if you want the App API to support tracking app url opens, make sure to keep this call
-        return CAPBridge.handleOpenUrl(url, options)
+        return ApplicationDelegateProxy.shared.application(app, open: url, options: options)
     }

     func application(_ application: UIApplication, continue userActivity: NSUserActivity, restorationHandler: @escaping ([UIUserActivityRestoring]?) -> Void) -> Bool {
         // Called when the app was launched with an activity, including Universal Links.
         // Feel free to add additional processing here, but if you want the App API to support
         // tracking app url opens, make sure to keep this call
-        return CAPBridge.handleContinueActivity(userActivity, restorationHandler)
+        return ApplicationDelegateProxy.shared.application(application, continue: userActivity, restorationHandler: restorationHandler)
     }
```

### ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸ`CAPNotifications`ã‹ã‚‰`NSNotification`æ‹¡å¼µã¸ã®åˆ‡ã‚Šæ›¿ãˆ

`ios/App/AppDelegate.swift`ã§ã€ä»¥ä¸‹ã‚’æ›´æ–°ã—ã¾ã™:

```diff-swift
     override func touchesBegan(_ touches: Set<UITouch>, with event: UIEvent?) {
         super.touchesBegan(touches, with: event)

         let statusBarRect = UIApplication.shared.statusBarFrame
         guard let touchPoint = event?.allTouches?.first?.location(in: self.window) else { return }

         if statusBarRect.contains(touchPoint) {
-            NotificationCenter.default.post(CAPBridge.statusBarTappedNotification)
+            NotificationCenter.default.post(name: .capacitorStatusBarTapped, object: nil)
         }
     }

     func application(_ application: UIApplication, didRegisterForRemoteNotificationsWithDeviceToken deviceToken: Data) {
-        NotificationCenter.default.post(name: Notification.Name(CAPNotifications.DidRegisterForRemoteNotificationsWithDeviceToken.name()), object: deviceToken)
+        NotificationCenter.default.post(name: .capacitorDidRegisterForRemoteNotifications, object: deviceToken)
     }

     func application(_ application: UIApplication, didFailToRegisterForRemoteNotificationsWithError error: Error) {
-        NotificationCenter.default.post(name: Notification.Name(CAPNotifications.DidFailToRegisterForRemoteNotificationsWithError.name()), object: error)
+        NotificationCenter.default.post(name: .capacitorDidFailToRegisterForRemoteNotifications, object: error)
     }
```

### Ignore `DerivedData`

`DerivedData` ã‚’ `ios/.gitignore` ãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½åŠ ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€Capacitor CLI ãŒ iOS ã®ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ“ãƒ«ãƒ‰ã‚’é…ç½®ã™ã‚‹å ´æ‰€ã§ã™ã€‚

```diff
 App/Pods
 App/App/public
 App/Podfile.lock
+DerivedData
 xcuserdata

 # Cordova plugins for Capacitor
```

## Android

Capacitor 3 ã¯ã€Android 5+ã«å¯¾å¿œã—ã¦ã„ã¾ã™ï¼ˆç¾åœ¨ã¯ Android 11 ã«ã‚‚å¯¾å¿œã—ã¦ã„ã¾ã™ï¼‰ã€‚Android Studio 4+ãŒå¿…è¦ã§ã™ã€‚

### Capacitor ã® Android ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®æ›´æ–°

```bash
npm install @capacitor/android@latest
npx cap sync android
```

### Android ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®è‡ªå‹•ãƒ­ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆã‚‹

Capacitor 3 ã§ã¯ã€Android ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è‡ªå‹•çš„ã«ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ãŒå¥½ã¾ã—ã„ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ `MainActivity.java`ã§ã¯ã€`onCreate`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€npm ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¿½åŠ ãƒ»å‰Šé™¤ã™ã‚‹éš›ã«ã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã™ã‚‹å¿…è¦ãŒãªããªã‚Šã¾ã™ã€‚

```diff-java
 public class MainActivity extends BridgeActivity {
-    @Override
-    public void onCreate(Bundle savedInstanceState) {
-        super.onCreate(savedInstanceState);
-
-        // Initializes the Bridge
-        this.init(savedInstanceState, new ArrayList<Class<? extends Plugin>>() {{
-            // Additional plugins you've installed go here
-            add(Plugin1.class);
-            add(Plugin2.class);
-        }});
-    }
 }
```

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«å°‚ç”¨ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€`onCreate`ã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ç™»éŒ²ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™:

```diff-java
 public class MainActivity extends BridgeActivity {
     @Override
     public void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);

+        registerPlugin(PluginInMyApp.class);
     }
 }
```

### Gradle ã® 7.0 ã¸ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ

Capacitor ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€Gradle 7.0 ã®ä½¿ç”¨ã‚’æ¨å¥¨ã—ã¦ã„ã¾ã™ã€‚Android Studio ã§ã€**File**ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ãã€**Project Structure**ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã€**Gradle Version**ã‚’**7.0**ã«ã€**Android Gradle Plugin Version**ã‚’**4.2.0**ã«å¤‰æ›´ã—ã¾ã™ã€‚ãã—ã¦ã€**OK\*\*ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

**Project Structure**ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®**Suggestions**ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã€Android ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæ¡ˆã‚’è©•ä¾¡ã™ã‚‹ã¨ã‚ˆã„ã§ã—ã‚‡ã†ã€‚

### Android variables ã®æ›´æ–°

`android/variables.gradle`ã§ã¯ã€ä»¥ä¸‹ã®å¤‰æ•°ã‚’æ›´æ–°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™:

```diff-groovy
 ext {
     minSdkVersion = 21
-    compileSdkVersion = 29
-    targetSdkVersion = 29
+    compileSdkVersion = 30
+    targetSdkVersion = 30
+    androidxActivityVersion = '1.2.0'
-    androidxAppCompatVersion = '1.1.0'
+    androidxAppCompatVersion = '1.2.0'
+    androidxCoordinatorLayoutVersion = '1.1.0'
-    androidxCoreVersion =  '1.2.0'
-    androidxMaterialVersion =  '1.1.0-rc02'
-    androidxBrowserVersion =  '1.2.0'
-    androidxLocalbroadcastmanagerVersion =  '1.0.0'
-    androidxExifInterfaceVersion = '1.2.0'
-    firebaseMessagingVersion =  '20.1.2'
-    playServicesLocationVersion =  '17.0.0'
+    androidxCoreVersion = '1.3.2'
+    androidxFragmentVersion = '1.3.0'
-    junitVersion =  '4.12'
-    androidxJunitVersion =  '1.1.1'
-    androidxEspressoCoreVersion =  '3.2.0'
+    junitVersion = '4.13.1'
+    androidxJunitVersion = '1.1.2'
+    androidxEspressoCoreVersion = '3.3.0'
     cordovaAndroidVersion = '7.0.0'
 }
```

Capacitor 3 ã¯ Android 11(API 30)ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã®ã§ã€SDK ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’ 30 ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¦ãã ã•ã„ã€‚ `compileSdkVersion` ã¨ `targetSdkVersion` ã‚’ `30` ã«å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚

æ–°ã—ã„å¤‰æ•° `androidxActivityVersion` ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã®ã§ã€å€¤ã‚’ `1.2.0` ã¨ã—ã¦è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

å¤‰æ•° `androidxAppCompatVersion` ã¯ `1.2.0` ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§ãã¾ã™ã€‚

æ–°ã—ã„ `androidxCoordinatorLayoutVersion` å¤‰æ•°ãŒä½œæˆã•ã‚Œã€å€¤ãŒ `1.1.0` ã«ãªã‚‹ã‚ˆã†ã«è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

å¤‰æ•° `androidxCoreVersion` ã¯ `1.3.2` ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§ãã¾ã™ã€‚

å¤‰æ•°`androidxMaterialVersion`ã¯ã€Action Sheet ã‚„ Camera ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ä½¿ç”¨ã•ã‚Œã¦ã„ãŸã‚‚ã®ã§ã€ä½¿ç”¨ã—ã¦ã„ãªã„å ´åˆã¯å‰Šé™¤ã§ãã¾ã™ã€‚ä½¿ç”¨ã—ã¦ã„ãªã„å ´åˆã¯å‰Šé™¤ã§ãã¾ã™ã€‚ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€[Camera docs](https://capacitorjs.com/docs/v3/apis/camera#variables) ã¨ [Action Sheet docs](https://capacitorjs.com/docs/v3/apis/action-sheet#variables) ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

å¤‰æ•°`androidxBrowserVersion` ã¯ã€Browser ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒä½¿ç”¨ã—ã¦ã„ã¾ã—ãŸã€‚ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ãªã„å ´åˆã¯ã€å‰Šé™¤ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã¯ã€[docs](https://capacitorjs.com/docs/v3/apis/browser#variables) ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

å¤‰æ•° `androidxLocalbroadcastmanagerVersion` ã¯å‰Šé™¤ã§ãã¾ã™ã€‚

å¤‰æ•°`androidxExifInterfaceVersion`ã¯ã€Camera ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒä½¿ç”¨ã—ã¦ã„ãŸã‚‚ã®ã§ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ãªã„å ´åˆã¯å‰Šé™¤ã§ãã¾ã™ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€[docs](https://capacitorjs.com/docs/v3/apis/camera#variables) ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

FirebaseMessagingVersion` å¤‰æ•°ã¯ Push Notifications ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ãªã„å ´åˆã¯ã€å‰Šé™¤ã§ãã¾ã™ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€[docs](https://capacitorjs.com/docs/v3/apis/push-notifications#variables) ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

playServicesLocationVersion` å¤‰æ•°ã¯ã€Geolocation ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€[docs](https://capacitorjs.com/docs/v3/apis/geolocation#variables) ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

æ–°ã—ã„ `androidxFragmentVersion` å¤‰æ•°ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã®ã§ã€å€¤ã‚’ `1.3.0` ã¨ã—ã¦è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

junitVersion`ã¯`4.13.1` ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§ãã¾ã™ã€‚

androidxJunitVersion`ã¯`1.1.2` ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§ãã¾ã™ã€‚

The `androidxEspressoCoreVersion` ã¯ `3.3.0` ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### æœªä½¿ç”¨ãŠã‚ˆã³å†—é•·ãªãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã®å‰Šé™¤

ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«å¿œã˜ã¦ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã‚¢ãƒ—ãƒªã® `AndroidManifest.xml` ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰æœªä½¿ç”¨ã®ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã«è¿½åŠ ã•ã‚Œã‚‹ã“ã¨ã«ãªã£ã¦ã„ã‚‹ãŸã‚ã€[Capacitor ã®æ–°ã‚¢ãƒ—ãƒªã®ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆ](https://github.com/ionic-team/capacitor/blob/main/android-template/app/src/main/AndroidManifest.xml) ã«ã¯ `INTERNET` ã—ã‹å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ä»¥ä¸‹ã®æ‰‹é †ã§ã€æœªä½¿ç”¨ã®ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¦ãã ã•ã„:

1. ã‚¢ãƒ—ãƒªãŒä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ç‰¹å®šã™ã‚‹
1. å„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †ã‚’èª­ã¿ã€å„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã¨ã™ã‚‹ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’æ¢ã—ã¾ã™ã€‚
1. ã‚¢ãƒ—ãƒªã® `AndroidManifest.xml` ãƒ•ã‚¡ã‚¤ãƒ«ã§ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã¨ã™ã‚‹ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’ç¶­æŒã—ã€ä½¿ç”¨ã—ãªã„ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¾ã™ã€‚

Haptics ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ Network ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã®ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’ç‹¬è‡ªã® `AndroidManifest.xml` ãƒ•ã‚¡ã‚¤ãƒ«ã«å«ã‚ã‚‹ã‚ˆã†ã«ãªã£ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ä¾‹ã§ã€æœ€çµ‚çš„ã«ã¯ã‚¢ãƒ—ãƒªã®ã‚‚ã®ã« [ãƒãƒ¼ã‚¸](https://developer.android.com/studio/build/manifest-merge) ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã¯ã€ã‚¢ãƒ—ãƒªã® `AndroidManifest.xml` ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å‰Šé™¤ã—ã¦ã‚‚å®‰å…¨ã§ã™ã€‚

```diff-xml
     <!-- Permissions -->

     <uses-permission android:name="android.permission.INTERNET" />

-    <!-- Network API -->
-    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />

-    <!-- Vibration API -->
-    <uses-permission android:name="android.permission.VIBRATE" />

 </manifest>
```
