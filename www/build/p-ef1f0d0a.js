import{h as e}from"./p-db2aa20e.js";import{a as r}from"./p-12b41941.js";import"./p-82a85041.js";import{H as t}from"./p-0fb857a3.js";import{P as n}from"./p-38653301.js";import{P as a,b as c}from"./p-b82b7eca.js";import{h as o}from"./p-6858e647.js";import{s}from"./p-49288e77.js";const i={Twitter:{property:"twttr",src:"https://platform.twitter.com/widgets.js",id:"twitter-wjs",load:function(){window&&window.twttr&&window.twttr.widgets.load()}},Facebook:{property:"FB",src:"https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.3",id:"fb-wjs",load:e=>{window&&window.FB&&window.FB.XFBML.parse(e)}},Instagram:{property:"instgrm",src:"https://www.instagram.com/embed.js",id:"insta-wjs",load:()=>{window&&window.instgrm&&window.instgrm.Embeds.process()}}};let u,l,d;function p(r,a,c,o){switch(r){case"heading1":case"heading2":case"heading3":case"heading4":case"heading5":case"heading6":const c=parseInt(r[r.length-1],10),i="h-"+s(a.text);return e(t,Object.assign({},{id:i,level:c,poster:u}),o);case"paragraph":return e(n,Object.assign({},{level:d,leading:l}),o);case"preformatted":return e("pre",null,e("code",null,o));default:return null}}function m(e){return e.reduce(((e,r)=>e+s(r[0])),"")}function f(r,t,n,s,u,l,d,p=!1,f=null){if(t[n])return function(r,t,n,a,c,o){return e(r,Object.assign({key:`element-${t}-${o+1}`},n,"image"===t?{src:n.url,url:void 0}:null),c&&c.length?c:void 0)}(t[n],n,s,0,l,d);const j=a.Elements;switch(n){case j.heading1:return w("h1",s,l,d,{id:m(l)});case j.heading2:return w("h2",s,l,d,{id:m(l)});case j.heading3:return w("h3",s,l,d,{id:m(l)});case j.heading4:return w("h4",s,l,d,{id:m(l)});case j.heading5:return w("h5",s,l,d,{id:m(l)});case j.heading6:return w("h6",s,l,d,{id:m(l)});case j.paragraph:return w("p",s,l,d);case j.preformatted:return w("pre",s,l,d);case j.strong:return w("strong",s,l,d);case j.em:return w("em",s,l,d);case j.listItem:case j.oListItem:return w("li",s,l,d);case j.list:return w("ul",s,l,d);case j.oList:return w("ol",s,l,d);case j.image:return function(r,t,n){const a=t.linkTo?c.Link.url(t.linkTo,r):null,o=t.linkTo&&t.linkTo.target?{target:t.linkTo.target}:{},s=o.target?{rel:"noopener"}:{},i=e("img",{loading:"lazy",src:t.url,alt:t.alt||""});return e("p",Object.assign({},b({className:[t.label||"","block-img"].join(" ")},n)),a?e("a",Object.assign({},Object.assign({href:a},o,s)),i):i)}(r,s,d);case j.embed:return function(r,t){i[r.oembed.provider_name]&&function({property:e,src:r,id:t}){window&&function(r,t){var n,a=document.getElementsByTagName("script")[0],c=window[e]||{};document.getElementById(t)||((n=document.createElement("script")).id=t,n.src=r,a.parentNode.insertBefore(n,a),c._e=[],c.ready=function(e){c._e.push(e)})}(r,t)}(i[r.oembed.provider_name]);const n="embed embed-"+r.oembed.provider_name.toLowerCase(),a=Object.assign({"data-oembed":r.oembed.embed_url,"data-oembed-type":r.oembed.type,"data-oembed-provider":r.oembed.provider_name,ref:e=>{i[r.oembed.provider_name]&&i[r.oembed.provider_name].load(e)}},r.label?{className:`${n} ${r.label}`}:{className:n}),c=e("div",{innerHTML:r.oembed.html});return e("div",Object.assign({},b(a,t)),c)}(s,d);case j.hyperlink:return function(r,t,n,a,s=!1,i=null){const u=t.data.target?{target:t.data.target}:{},l=t.data.target?{rel:"noopener"}:{};let d=c.Link.url(t.data,r);if(t.data.url){const e=new URL(t.data.url);e.hostname.indexOf(".")<0&&(d=`/${e.hostname}${e.pathname+e.search+e.hash}`)}const p=Object.assign({href:d},u,l);return e("a",s?Object.assign({},b(p,a),o(p.href,i)):Object.assign({},b(p,a)),n)}(r,s,l,d,p,f);case j.label:return function(r,t,n){const a=r.data?Object.assign({},{className:r.data.label}):{};return e("span",Object.assign({},b(a,n)),t)}(s,l,d);case j.span:return function(r){return r?r.split("\n").reduce(((r,t)=>{if(0===r.length)return[t];{const n=e("br",Object.assign({},b({},(r.length+1)/2-1)));return r.concat([n,t])}}),[]):null}(u);default:return null}}function b(e={},r){return Object.assign(e,{key:r})}function w(r,t,n,a,c={}){const o=t.label?Object.assign(c,{className:t.label}):c;return e(r,Object.assign({},b(o,a)),n)}const j=(e,t,n)=>{var{richText:c,linkResolver:o,htmlSerializerProp:s=p,routerLink:i,router:m,paragraphLevel:b,poster:w,leading:j}=e,h=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]])}return t}(e,["richText","linkResolver","htmlSerializerProp","routerLink","router","paragraphLevel","poster","leading"]);d=b>0&&b<7?b:void 0,u=w,l=j;const g=a.serialize(c,((...e)=>f.apply(null,[o,{},...e,i,m])),s);return n.map(g,(e=>(e.vattrs=r(h,e.vattrs),e)))};export{j as P,p as h}