{"page.state":{"announcement_bar":{},"featuredImage":"/v3-beta/cap-3-beta-img.png","title":"Announcing Capacitor 3.0 Beta","description":"Announcing Capacitor 3.0 Beta","slug":"announcing-capacitor-3-0-beta","date":"2021-01-14T08:00:00.000Z","authorName":"Dan Imhoff","authorUrl":"https://twitter.com/dwieeb","featuredImageAlt":"Capacitor 3.0 Beta","html":"<p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3 paragraph-intro\">Today I‚Äôm thrilled to announce that Capacitor 3 is ready for public beta! The Capacitor team is looking forward to hearing feedback on it from our developer community. üíñ</p> <h2 class=\"ui-heading ui-heading-2 ui-theme--editorial\" id=\"a-new-milestone\"><a href=\"#a-new-milestone\" class=\"heading-anchor\" aria-hidden=\"true\"></a>A New Milestone</h2><p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">Last year <a href=\"/blog/announcing-capacitor-2-0\">we announced Capacitor 2</a>, which brought important platform updates to the ecosystem such as Swift 5 and AndroidX. Since then, we‚Äôve been delighted to see massive adoption in the community. Usage has more than doubled this year alone! It‚Äôs clear that developers who use Capacitor share our commitment to staying modern and providing the very best app experiences.</p> <p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">For 3.0, we are focusing our attention on these areas of improvement:</p> <ul> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">Community involvement</li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">Adaptability</li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">First-class APIs</li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">Developer experience and productivity</li> </ul> <p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">Capacitor 3 is more than just the ‚Äúnext version‚Äù of Capacitor. It is a crucial milestone for the project: the core team has grown significantly since the 2.0 release and now has the bandwidth and experience necessary to dedicate more time to the community, more time for prototyping and innovation, more time for stability and maintenance, and more time to deliver on Capacitor‚Äôs promise of making it easy to build web apps that run natively on iOS, Android, and the Web.</p>  <p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">The Capacitor team is ready to redefine what the web can do in mobile development for years to come. More than ever, we‚Äôre interested in pulling ideas and inspiration from both web and native, combining both platforms in new, exciting ways that we‚Äôre not quite ready to talk about yet. Stay tuned! We have a lot planned for 2021.</p> <h2 class=\"ui-heading ui-heading-2 ui-theme--editorial\" id=\"capacitor-community-on-github\"><a href=\"#capacitor-community-on-github\" class=\"heading-anchor\" aria-hidden=\"true\"></a>Capacitor Community on GitHub</h2><p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">The Capacitor community now has <a href=\"https://github.com/capacitor-community\">a home on GitHub</a>! This org seeks to bring together the Capacitor plugin authoring community and provide a centralized list of high-quality plugins and other projects.</p> <p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">To track plugin ideas, as well as gauge interest and promote collaboration, we created the <a href=\"https://github.com/capacitor-community/proposals/issues\">Proposals repo</a>. Found a proposal you like? Add a thumbs-up! üëç Want to add your plugin to the Capacitor community? Create a new proposal! üì£</p> <h2 class=\"ui-heading ui-heading-2 ui-theme--editorial\" id=\"project-transparency\"><a href=\"#project-transparency\" class=\"heading-anchor\" aria-hidden=\"true\"></a>Project Transparency</h2><p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">As much as possible, we want to be transparent about how the Capacitor team prioritizes work. We‚Äôd love more community feedback into this process. We‚Äôre still evaluating how best to do this, but we‚Äôve already started using <a href=\"https://github.com/ionic-team/capacitor/milestones\">milestones</a> and a <a href=\"https://github.com/orgs/ionic-team/projects/7\">public project board</a>.</p> <h2 class=\"ui-heading ui-heading-2 ui-theme--editorial\" id=\"discussions-on-github\"><a href=\"#discussions-on-github\" class=\"heading-anchor\" aria-hidden=\"true\"></a>Discussions on GitHub</h2><p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">The Capacitor repo now uses <a href=\"https://github.com/ionic-team/capacitor/discussions\">GitHub Discussions</a>, which work a bit like Stack Overflow. We see this as the perfect solution for community questions, ideas, and discussions. Have a question or need help? Want to show off something you made? Want to talk about ideas for improvement? Create a discussion!</p> <p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">To get notifications for new discussion topics, click <strong>Watch</strong> at the top of <a href=\"https://github.com/ionic-team/capacitor\">the Capacitor repo</a>, then select <strong>Custom</strong> and check <strong>Discussions</strong> (and any others you want!), then click <strong>Apply</strong>.</p> <h2 class=\"ui-heading ui-heading-2 ui-theme--editorial\" id=\"platform-updates\"><a href=\"#platform-updates\" class=\"heading-anchor\" aria-hidden=\"true\"></a>Platform Updates</h2><p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">Capacitor 3 brings several updates to iOS and Android. The minimum supported iOS version has been bumped to 12. Xcode 12+ is now required. Capacitor will continue to support Android 5 and will now support Android 11! We recommend updating Gradle in your Android apps and plugins to version 6.5 (see the upgrade guide below).</p> <h2 class=\"ui-heading ui-heading-2 ui-theme--editorial\" id=\"plugins\"><a href=\"#plugins\" class=\"heading-anchor\" aria-hidden=\"true\"></a>Plugins</h2><p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">The team has moved all ‚Äúcore plugins‚Äù into their own npm packages. These officially supported plugins are now installed and versioned separately from Capacitor core. Without a doubt, this was the biggest change in architecture for Capacitor 3. As much as we wanted to have Capacitor be ‚Äúbatteries-included‚Äù, keeping these plugins integrated in the core library proved untenable.</p> <p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">Here‚Äôs a list of new and updated official plugins for Capacitor 3 (also available <a href=\"https://github.com/ionic-team/capacitor-plugins\">on GitHub</a>):</p> <ul> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/action-sheet\"><code>@capacitor/action-sheet</code></a> (previously a part of <code>Modals</code>)</li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/app\"><code>@capacitor/app</code></a></li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/app-launcher\"><code>@capacitor/app-launcher</code></a> (previously a part of <code>App</code>)</li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/browser\"><code>@capacitor/browser</code></a></li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/camera\"><code>@capacitor/camera</code></a></li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/clipboard\"><code>@capacitor/clipboard</code></a></li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/device\"><code>@capacitor/device</code></a></li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/dialog\"><code>@capacitor/dialog</code></a> (previously a part of <code>Modals</code>)</li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/filesystem\"><code>@capacitor/filesystem</code></a></li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/geolocation\"><code>@capacitor/geolocation</code></a></li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/haptics\"><code>@capacitor/haptics</code></a></li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/keyboard\"><code>@capacitor/keyboard</code></a></li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/local-notifications\"><code>@capacitor/local-notifications</code></a></li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/motion\"><code>@capacitor/motion</code></a></li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/network\"><code>@capacitor/network</code></a></li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/push-notifications\"><code>@capacitor/push-notifications</code></a></li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/screen-reader\"><code>@capacitor/screen-reader</code></a> (previously named <code>Accessibility</code>)</li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/share\"><code>@capacitor/share</code></a></li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/splash-screen\"><code>@capacitor/splash-screen</code></a></li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/status-bar\"><code>@capacitor/status-bar</code></a></li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/storage\"><code>@capacitor/storage</code></a></li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/text-zoom\"><code>@capacitor/text-zoom</code></a> (new plugin!) ‚ú®</li> <li class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\"><a href=\"https://www.npmjs.com/package/@capacitor/toast\"><code>@capacitor/toast</code></a></li> </ul> <p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">Updating to these new plugins should be as easy as installing the package and changing the import, with the exception of a few minor changes (see the upgrade guide below).</p> <pre class=\"language-ts\"><code><span class=\"token comment\">// OLD</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Plugins <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@capacitor/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> Camera <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> Plugins<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// NEW</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Camera <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@capacitor/camera'</span><span class=\"token punctuation\">;</span></code></pre> <p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">In Capacitor 3, the use of the <code>Plugins</code> object is deprecated. See the upgrade guide for apps and plugins below.</p> <h2 class=\"ui-heading ui-heading-2 ui-theme--editorial\" id=\"run-command\"><a href=\"#run-command\" class=\"heading-anchor\" aria-hidden=\"true\"></a>Run Command</h2><p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">One of the most exciting new features we have to offer is a new CLI command to run your app on iOS and Android devices. This command will run <code>sync</code> to copy web assets into place within the native project and then programmatically invoke a native debug build before finally using <a href=\"https://github.com/ionic-team/native-run/\"><code>native-run</code></a> to deploy the compiled app binary to both hardware and virtual devices.</p> <pre class=\"language-bash\"><code>npx cap run</code></pre> <p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">Previously, developers had to keep Xcode and Android Studio open to deploy and would switch between them and their main editor frequently. This addition to the Capacitor CLI will eliminate unnecessary context switching and free up your computer‚Äôs resources. Those heavy IDEs only need to be open now when configuring native projects, writing native code, or making a release build of your app.</p> <h2 class=\"ui-heading ui-heading-2 ui-theme--editorial\" id=\"typescript-configuration-files\"><a href=\"#typescript-configuration-files\" class=\"heading-anchor\" aria-hidden=\"true\"></a>TypeScript Configuration Files</h2><p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">You can now use <code>capacitor.config.ts</code> files for configuring Capacitor! Not only does this provide autocomplete and inline documentation of configuration values in your editor, but now you have the ability to use environment variables for generating configuration. This means you can now create different environments for dev vs. prod, provide different configuration values per platform, etc.</p> <p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">The configuration file is parsed every time you run <code>sync</code> and then a new copy of the generated config is placed into each native platform, just like before.</p> <h2 class=\"ui-heading ui-heading-2 ui-theme--editorial\" id=\"permissions-api\"><a href=\"#permissions-api\" class=\"heading-anchor\" aria-hidden=\"true\"></a>Permissions API</h2><p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">Another big addition to Capacitor 3 is the brand new cross-platform Permissions API! Plugins that require permissions will now offer the <code>requestPermissions()</code> and <code>checkPermissions()</code> methods, which give app developers fine-grained control over which permissions are requested and when. It also gives app developers the ability to query the state of permissions for a given plugin.</p> <p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">This is possible by grouping sets of permissions into ‚Äúaliases‚Äù, which are maintained by each plugin. For example, the Camera plugin has a <code>camera</code> and <code>photos</code> alias for accessing the camera and photo library, respectively. As an app developer, you can request permission for the <code>camera</code> alias via the Camera plugin, and the user will be prompted to grant or deny access to their camera. This can now happen at any time, instead of only when the user takes a picture.</p> <p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">Official plugins will continue to automatically request necessary permissions before feature use, so no changes to your app are necessary. This additional functionality is completely opt-in.</p> <h2 class=\"ui-heading ui-heading-2 ui-theme--editorial\" id=\"android-plugin-auto-loading\"><a href=\"#android-plugin-auto-loading\" class=\"heading-anchor\" aria-hidden=\"true\"></a>Android Plugin Auto-loading</h2><p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">Ever forget to add those Java classes to <code>MainActivity.java</code> after installing plugins? I did. All the time. With Capacitor 3, you no longer have to! The Capacitor CLI will now generate a file that lists plugins to automatically load when the app initializes. Android plugins become available simply after installing them and running <code>sync</code>, just like iOS plugins.</p> <p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">This behavior is opt-in. You‚Äôll have to follow the upgrade guide below to enable it.</p> <p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">Additionally, we added a new <a href=\"https://github.com/ionic-team/capacitor/pull/3762\"><code>includePlugins</code> option</a> which lets you configure which plugins to include per platform so the list can still be manually controlled.</p> <h2 class=\"ui-heading ui-heading-2 ui-theme--editorial\" id=\"electron\"><a href=\"#electron\" class=\"heading-anchor\" aria-hidden=\"true\"></a>Electron</h2><p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">Electron support has been pulled out of Capacitor and given a new home in the Capacitor Community. We want to focus our efforts on iOS, Android, and PWAs for the time being. We are proud to offer <a href=\"https://github.com/capacitor-community/electron\">the Electron Platform</a> as the first-ever community-maintained platform, which is being led by <a href=\"https://twitter.com/IT_MikeS\">Mike Summerfeldt</a>, the original author.</p> <h2 class=\"ui-heading ui-heading-2 ui-theme--editorial\" id=\"upgrade-guide\"><a href=\"#upgrade-guide\" class=\"heading-anchor\" aria-hidden=\"true\"></a>Upgrade Guide</h2><p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">Here‚Äôs an <a href=\"https://capacitorjs.com/docs/v3/updating/3-0\">Upgrade Guide</a> with the technical changes you‚Äôll want to make to your app. For plugin authors, we have a guide for <a href=\"https://capacitorjs.com/docs/v3/updating/plugins/3-0\">Updating Plugins</a>. If we missed something, please <a href=\"https://github.com/ionic-team/capacitor-site\">create an issue</a> in our docs repo or submit a PR for <a href=\"https://github.com/ionic-team/capacitor-site/tree/main/pages/docs/v3/updating\">these files</a>. You can also share feedback in <a href=\"https://github.com/ionic-team/capacitor/discussions/3994\">this discussion</a>. Thanks! üíô</p> <h2 class=\"ui-heading ui-heading-2 ui-theme--editorial\" id=\"good-vibes\"><a href=\"#good-vibes\" class=\"heading-anchor\" aria-hidden=\"true\"></a>Good Vibes</h2><p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">Thanks for checking out the beta! Stay tuned for updates on the RC and final release in the coming weeks.</p> <p class=\"ui-paragraph ui-paragraph--prose ui-paragraph-3\">I cannot emphasize how proud I am of this release and especially the team that made it happen. This beta is the result of months of dedication from the Capacitor core team and our community contributors. That said, I couldn‚Äôt be more thrilled for what‚Äôs to come. After 2020, we all need good vibes.</p> <br> <div align=\"center\"> <img width=\"224\" height=\"224\" src=\"https://user-images.githubusercontent.com/236501/104073592-f4f2f300-51c2-11eb-9cb6-20dff5043338.gif\"> </div> <br> <div align=\"center\"> <blog-forum-link href=\"https://forum.ionicframework.com/t/announcing-capacitor-3-0-beta/202858\"> üëã Join the discussion on the Forum </blog-forum-link> </div>"},"components":["announcement-bar","site-backdrop","docs-dropdown","blog-subnav","blog-forum-link","blog-post","ion-icon","docs-search","more-button","site-header","site-root","capacitor-site"]}